AddDefaultCharset UTF-8

# Ensure index.php is served as the directory index
DirectoryIndex index.php index.html
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Set the base directory for rewrites. Use root (/) for most hosting platforms.
    # On local setups adjust as needed (for example /web2/final_project/car_rental/).
    RewriteBase /

    # Deny access to sensitive directories (relative to web root)
    RedirectMatch 403 ^/(app|scheme|console|runtime)/
    
    # Deny access to sensitive files
    <FilesMatch "\.(env|json|xml|log|md|lock|git|ini|bak|sql)$">
        Order allow,deny
        Deny from all
    </FilesMatch>
    
    # Ensure PATH_INFO is accepted by PHP so frameworks that rely on it work
    AcceptPathInfo On

    # Rewrite all requests to index.php (pass the original URI via REQUEST_URI)
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^ index.php [L,QSA]
    
    # Prevent directory browsing
    Options -Indexes
</IfModule>
